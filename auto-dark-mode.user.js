// ==UserScript==
// @name         Auto Dark Mode
// @version      0.0.1
// @description  Darken Any Website
// @namespace    http://erichsia7.github.io/
// @run-at       document-idle
// @author       erichsia7
// @inject-into  content
// @updateURL    https://erichsia7.github.io/auto-dark-mode/auto-dark-mode.user.js
// @downloadURL  https://erichsia7.github.io/auto-dark-mode/auto-dark-mode.user.js
// @match        *://*/*
// @noframes     
// @exclude      *://*.google.com/*
// @exclude      *://*.youtube.com/*
// @exclude      *://github.*/*
// @exclude      *://twitter.*/*
// @exclude      *://x.*/*
// ==/UserScript==
var darkify;(()=>{"use strict";var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(r,e)=>Object.prototype.hasOwnProperty.call(r,e)},e={};function t(){var r=[[48,10],[97,26],[65,26]],e=268435456*Math.random()|0,t=268435456*Math.random()|0,n=new Uint8Array(17);n[0]=95;for(var o=1;o<17;o++){var a=r[t%3],i=a[0]+e%a[1];n[o]=i,e>>>=1,t>>>=1}return String.fromCharCode.apply(null,n)}function n(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(r){s=!0,o=r}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(r,e)||function(r,e){if(r){if("string"==typeof r)return o(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(r,e):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function a(r){var e=n(r.rgba,4),t=e[0],o=e[1],a=e[2],i=e[3],l=t/255,c=o/255,s=a/255,u=Math.max(l,c,s),d=u-Math.min(l,c,s),f=0,y=0===u?0:d/u;if(0!==d&&(f=u===l?((c-s)/d+(c<s?6:0))/6:u===c?((s-l)/d+2)/6:((l-c)/d+4)/6),y>.38&&u>.46)return r;var h=f,m=.2*y,b=1-u,g=Math.floor(6*h),p=6*h-g,v=b*(1-m),w=b*(1-p*m),k=b*(1-(1-p)*m),S=n([[b,k,v],[w,b,v],[v,b,k],[v,w,b],[k,v,b],[b,v,w]][g%6].map((function(r){return Math.round(255*r)})),3);return{type:"rgba",rgba:[S[0],S[1],S[2],i]}}function i(r){return["color","background-color","border-color","border-top-color","border-right-color","border-bottom-color","border-left-color","outline-color","caret-color","column-rule-color","text-decoration-color","text-emphasis-color","border-block-color","border-block-end-color","border-block-start-color","border-inline-color","border-inline-end-color","border-inline-start-color","background-image","background-blend-mode","mix-blend-mode","fill","flood-color","lighting-color","stop-color","stroke","accent-color","color-scheme","scrollbar-color","font-palette","print-color-adjust","-webkit-tap-highlight-color","-webkit-border-before-color","-webkit-text-fill-color","-webkit-text-stroke-color","background","outline","box-decoration-break","column-rule"].indexOf(r)>-1}r.d(e,{default:()=>g});var l={aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],transparent:[255,255,255,0],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function c(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(r,e){if(r){if("string"==typeof r)return s(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(r,e):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,a=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function s(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function u(r){function e(r){var e,t=/(\d+(cm|mm|in|px|pt|pc|rem|ex|ch|em|vw|vh|vmin|vmax|%))$/,n=[],o=c(r);try{for(o.s();!(e=o.n()).done;){var a=e.value.trim(),i=a.match(t);if(i){var l=u(a.replace(t,"").trim()),s=i[0].trim();n.push({type:"stop",color:l,position:s})}}}catch(r){o.e(r)}finally{o.f()}return n}if(r.startsWith("var("))return{type:"variable",ref:r};if(r.startsWith("rgb")){var t=r.match(/rgba?\((\d+),\s{0,}(\d+),\s{0,}(\d+)(?:,\s{0,}(\d+\.?\d*))?\)/);if(!t)throw new Error("Invalid RGB/RGBA format: ".concat(rgb));for(var n=[],o=1;o<3;o++)n.push(parseInt(t[o],10));return t[4]?n.push(parseFloat(t[4])):n.push(1),{type:"rgba",rgba:n}}if(r.startsWith("#")){var a=r.length,i=0,s=0,d=0;if(4===a)i=parseInt(r[1]+r[1],16),s=parseInt(r[2]+r[2],16),d=parseInt(r[3]+r[3],16);else{if(7!==a)throw new Error("Invalid hex format");i=parseInt(r.slice(1,3),16),s=parseInt(r.slice(3,5),16),d=parseInt(r.slice(5,7),16)}return{type:"rgba",rgba:[i,s,d,1]}}if(r.startsWith("linear-gradient")){var f=r.match(/linear-gradient\((.*)\)/);if(!f||f.length<2)throw new Error("Invalid linear gradient string");var y=f[1].split(/,(?![^\(]*\))/);return{type:"linear-gradient",direction:y[0].trim().match(/^\d+deg$|^to /)?y.shift().trim():"to bottom",colorStops:e(y)}}if(r.startsWith("radial-gradient")){var h="circle",m="farthest-corner",b="center",g=r.match(/radial-gradient\((.*)\)/i);if(!g)throw new Error("Invalid radial gradient string");var p=g[1].split(/,(?![^\(]*\))/),v=0,w=p[v].match(/^\s*(circle|ellipse|closest-side|farthest-side|closest-corner|farthest-corner|contain|cover)?\s*(circle|ellipse|closest-side|farthest-side|closest-corner|farthest-corner|contain|cover)?\s*/i);w&&(h=w[1]||null,m=w[2]||null,(w[1]||w[2])&&v++);var k=p[v].match(/^\s*at\s+([^\s,]+)\s+([^\s,]+)\s*/i);return k&&(b="".concat(k[1]," ").concat(k[2]),v++),{type:"radial-gradient",shape:h,size:m,position:b,colorStops:e(p.slice(v))}}if(r.startsWith("conic-gradient")){var S=r.match(/conic-gradient\((.*)\)/i)[1].split(/,(.+)/);return{type:"conic-gradient",angle:S[0].trim(),colorStops:e(S[1])}}if(r.startsWith("url"))return{type:"url",ref:r};var A=l[propertyValue];if(A)return{type:"rgba",rgba:A};return{type:"rgba",rgba:[0,0,0,0]}}function d(r){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d(r)}function f(r){return function(r){if(Array.isArray(r))return m(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||h(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=h(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,a=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function h(r,e){if(r){if("string"==typeof r)return m(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(r,e):void 0}}function m(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var b={initialize:function(){!function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var t in r){var n=r[t],o=[].concat(f(e),[t]);if("object"===d(n)&&null!==n)iterateStyles(n,o);else if(i(t)){var l=u(n);l&&(a(l),r[t]=void 0)}}}(function(){if("styleSheets"in document){var r,e=function r(e,t){var n,o=y(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;switch(a.type){case CSSRule.STYLE_RULE:var i=a.selectorText;t.hasOwnProperty(i)||(t[i]={});var l,c=y(a.style);try{for(c.s();!(l=c.n()).done;){var s=l.value;t[i][s]=a.style.getPropertyValue(s).trim()}}catch(r){c.e(r)}finally{c.f()}break;case CSSRule.MEDIA_RULE:var u="@media ".concat(a.conditionText);t.hasOwnProperty(u)||(t[u]={}),r(a.cssRules,t[u]);break;case CSSRule.KEYFRAMES_RULE:var d="@keyframes ".concat(a.name);t.hasOwnProperty(d)||(t[d]={});var f,h=y(a.cssRules);try{for(h.s();!(f=h.n()).done;){var m=f.value;t[d][m.keyText]={};var b,g=y(m.style);try{for(g.s();!(b=g.n()).done;){var p=b.value;t[d][m.keyText][p]=m.style.getPropertyValue(p).trim()}}catch(r){g.e(r)}finally{g.f()}}}catch(r){h.e(r)}finally{h.f()}break;case CSSRule.IMPORT_RULE:if(a.styleSheet)try{r(a.styleSheet.cssRules,t)}catch(r){console.warn("Cannot access imported stylesheet:",r)}break;default:t["@unknown_".concat(a.type)]=a.cssText}}}catch(r){o.e(r)}finally{o.f()}},n={},o=y(document.styleSheets);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{var i,l,c;if(!a.cssRules)continue;var s={};e(a.cssRules,s),n[(null===(i=a.ownerNode)||void 0===i?void 0:i.id)||(null===(l=a.ownerNode)||void 0===l||null===(c=l.getAttribute)||void 0===c?void 0:c.call(l,"href"))||"inline".concat(t())]=s}catch(r){console.warn("Skipping inaccessible stylesheet:",r)}}}catch(r){o.e(r)}finally{o.f()}return n}}())}};b.initialize();const g=b;darkify=e.default})();